@model IEnumerable<TiendaTFS.Models.Producto>
@{
    ViewData["Title"] = "Escaparate";
    Layout = "~/Views/Shared/_Layout.cshtml";
    
    <div style="text-align:center;">
        @{
            //if (ViewBag.DescripcionCategoria == "Valenciano")
        }
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3 col-md-12 col-sm-12">
                <table class="table">
                    @foreach(var i in ViewData["ListaCategorias"] as IEnumerable<Categoria>)
                    {
                        <tr>
                            <td>
                                <a asp-action="Index" asp-route-id="@i.Id">@i.Descripcion.ToString()</a>
                            </td>
                        </tr>
                    }
                </table>
            </div>
            
            <div class="col-lg-9 col-md-12 col-sm-12">
                <div class="card-colums" style="width: 1100px">
                    @foreach(var item in Model)
                    {
                        <div class="card" style="width: 270px; height:497px; text-align:center; display:inline-block; margin-left:47px; margin-top:25px;">
                            @{
                                var nombreImagen = "Imagen-no-disponible.jpg";
                                var stock = item.Stock;
                                if(item.Imagen != null)
                                {
                                    nombreImagen = item.Imagen;
                                }
                                <img class="card-img-top" style="width:200px; height:200px; margin: 15px;" src="~/Imagenes/@nombreImagen"/>
                                <h5 class="card-text" style="text-decoration:underline; height:50px; margin-top:10px;">@Html.DisplayFor(modelItem => item.Descripcion)</h5>
                                <hr style="width: 75%; margin-left:12.5%; margin-top:-20px;">
                                <p class="card-text" style="height:50px; margin-top:-5px;">@Html.DisplayFor(modelItem => item.Texto)</p>
                                <h2 style="color:midnightblue; margin-top:-10px;">@String.Format("{0:c)}", item.Precio)</h2>
                                <hr style="width:75%; margin-left:12.5%;">
                                if(item.Stock >= 0)
                                {
                                    <p>Unidades disponibles: @Html.DisplayFor(modelItem => item.Stock)</p>
                                }
                                else
                                {
                                    <p>Unidades disponibles: 0</p>
                                }
                                if(stock > 0)
                                {
                                    <div class="card-footer" style="width:auto;">
                                        <p>Funciona</p>
                                        @*<a asp-action="AñadirCarrito" asp-route-id="@item.Id" class="btn btn-success">Añadir al carrito</a>*@
                                    </div>
                                }
                                else
                                {
                                    <div class="card-footer" style="width:auto;">
                                    <a class="btn btn-danger">Sin stock</a>
                                    </div>
                                }
                            }
                        </div>

                    }
                </div>
            </div>
        </div>
    </div>
    @*
    <table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Producto.Precio)
            </th>
                <th>
                    @Html.DisplayNameFor(model => model.Producto.Descripcion)
                </th>
            <th>
                @Html.DisplayNameFor(model => model.Producto.Imagen)
            </th>
           
            <th>
                @Html.DisplayNameFor(model => model.Categoria.Descripcion   )
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Producto.Precio)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Producto.Descripcion)
            </td>
            <td>
                        @{
                            var nombreImagen = "imagen-no-disponible.jpg";
                            if (item.Producto.Imagen != null)
                            {
                                nombreImagen = item.Producto.Imagen;
                            }
                            <img src="~/imagenes/@nombreImagen" height="250" width="250" asp-append-version="true" />
                        }
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Categoria.Descripcion)
            </td>
        </tr>
}
    </tbody>
</table>
}*@
}